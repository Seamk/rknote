试题二：
某市政府部门有近30个委、办、局，分别承担这法定的政府职能，这些部门都有信息中心，负责本单位信息系统的建设和信息资源的采集、维护等工作，同时向业务部门提供信息化技术支持。该市的电子政务建设发展很快，统一规划实施了政务内网，实现了各个政府部门百兆以上带宽的互联互通，并在此基础上规划信息资源网。该政务内网的运行维护成本较高，所以在政务内网开通之后，市财政逐渐削减了各个委办局自身信息系统的维护费用，市政府逐渐削减了各个委办局自身信息系统的维护费用，市政府也要求尽快实现信息资源的共享，以发挥电子政务网的效率。

问题1：
该市政府将各个委办局的信息系统采取物理集中的方式进行统一管理，一些部门对此提出了异议，主要理由是集中管理后，由于管理部门对业务应用不了解，难以保证对本单位业务进行有力支持。

该市实行各个委办局信息系统统一管理可行。
该市电子政务网性能优良，信息系统物理部署点位置不会影响应用，也不存在信息传输瓶颈。
集中管理后，不仅能共享网络、主机的硬件设备，还能集中进行高可靠性配置，安全管理，以较低的成本项各个应用系统提供较高的可用性和安全性。
集中管理后，各个部门的运行维护和管理的费用将大大降低，可节省该市用于政府部门信息系统维护的整体费用。
应用系统位于信息系统层次结构的上层，底层的集中共享能够对业务提供更好的支撑。而各个部门的应用对信息系统的要求可由本部门提出，纳入到集中管理部门的信息系统的统一规划中。

问题2：
该市在信息系统集中管理建设过程中，需要再信息系统中重点规划建设哪些内容？
(1)灾备系统（容灾系统）
(2)CA认证系统（身份识别系统）。
(3)入侵检测系统。
(4)安全审计系统。
(5)防火、防盗等物理安全措施。
(6)高可用性设施（如多机集群、网络冗余和电源冗余等）。
(7)较好性能的网络管理系统，监控网络流量。

问题3：
发挥信息系统效益的关键是信息资源的有机共享，请给出该市政务信息资源共享的建议。
(1)全市政务信息的分类、分级标准。
(2)合各部门的职责，制定信息的采集原则，如关键业务产生关键信息，权威部门产生权威信息，从源头上保证信息的质量。
(3)制定信息的维护、更新原则，如谁生产谁维护。
(4)建设信息的交换平台，规划信息交换目录，制定信息的交换办法。
(5)建设政务信息仓库，开发信息资源的综合应用。
(6)优化政务流程。

试题三。
甲公司承担了一项为宇航系统配套生产高性能嵌入式计算机系统的任务，用户要求该系统要具有高速并发处理能力、低功耗、高可靠性，并可以有效地防止系统故障的蔓延。根据用户对本项目的要求，甲公司成立了软，硬件两个项目组，总体设计由硬件承担，负责高性能嵌入式计算机系统体系结构设计，软件组负责确定软件的技术需求和应用软件开发的软件设计工作。

在处理器选型方面，硬件组王工与软件组张工在讨论采用哪种CPU体系结构方面发生争议。目前，流行的处理器结构包括了单核结构，多处理器结构，超线程结构，多核结构，共享Cache的多核结构和超线程技术的多核结构六种。

问题1：
王工提出，根据用户要求，本嵌入式系统应具有高速并行处理能力，采用多处理器结构比较适合，主要理由是多处理器结构设计简单，可支持多个进程在不同处理器上并发处理；而张工提出，必须分清“多处理器结构”与“多核结构”的优点和缺点，多处理器结构虽然支持多进程的并发处理，但没有直接实现多线程并发执行；多核结构可以直接实现多线程并发执行。要提高应用的并行性就必须利用多个硬件资源的并行工作，建议采用超线程技术的多核结构的处理器。

问题2：
在本项目中，如果计算机采用了多线程技术实现应用程序的并发操作，程序设计人员将面临多种挑战，其主要原因在于：程序会同时发生多个动作，对这些同时发生的动作以及它们之间的交互进行管理奖面临四方面的挑战，即同步、通信、负载均衡和可伸缩性，

问题3：
本问题主要考查考生的实际经验，如果考生从事过此类项目的开发工作，应该理解对于一个给定的用户需求，究竟选择什么系统开发环境才能实现达到系统的设计目标。如果考生掌握了超线程技术的多核结构方面的基础知识，应该能够分析出本问题的解决思路。


问题1：
分清“多处理器结构”与“多核结构”的优点和缺点。


教程(P630)：
多核是多微处理器核的简称，是将两个或更多的独立处理器封装在一起，集成在一个电路中。多核处理器是单枚芯片（也称为硅核），能够直接插入单一的处理器插槽中，但操作系统会利用所有相关的资源，将它的每个执行内核作为分立的逻辑处理器。通过在多个执行内核之间划分任务，多核处理器可在特定的时钟周期内执行更多任务。

多核与多线程：
在多核技术中，计算机可以同时执行多个进程；在操作系统中，多个线程也可以并发执行。

1.多核技术与并发多线程
多核技术可以看作是一种CPU的集成技术，在一个CPU处理模块上，可以集成2个以上的CPU，但是，它们还是单独的物理CPU.
并发多线程(SMT)技术利用处理器的超标量特性，同时执行多条指令。SMT技术需要操作系统的支持，是在操作系统级别上实现一个物理CPU的多线程并发处理，提高OLTP环境模式下的CPU利用率。它的基本理念是，没有一个单一应用可使得超标量处理器达到完全饱和状态，因此，部署同时提供输入的多个应用的效果更为理想。

一个进程内可以有多个线程，在一个进程下的各线程，都是共享同一个进程所建立的内存寻址资源和内存管理机制,包括执行权限、内存空间和堆栈位置等，除此之外，各线程自身仅拥有少量执行所必需的变量属性，其余都依据与遵守进程所设立的规定。

2.多核技术与超线程
传统的应用是单核应用，他们按顺序以此处理每条命令。例如，用于运行三个应用的一个单线程应用会首先运行其中第一个，然后第二个，之后第三个。现在，许多商业应用和操作系统采用了多线程技术，可在同一时间内利用一个以上的处理器能力，它们可同时处理多个任务。
超线程是多线程处理的一种形式。超线程技术通过添加与物理线程并行的虚拟线程，实现单核处理器对两个线程的执行。虽然超线程技术可提高处理性能，但潜在的提高比不上在服务器上添加两个物理处理器核心，这是因为在处理虚拟线程时会出现超负荷


超线程技术实际上只有一个实际的物理处理器，但是从软件的角度来看，存在多个【逻辑处理器】，超线程技术支持【操作系统和应用程序将多个线程调度到多个逻辑处理器】上，就像多处理系统一样，从微体系结构的角度看，逻辑处理器的指令都是固定的，并且在共享的执行资源上同时执行。也就是说，多个线程能够在多个逻辑处理器间进行调度，但是由于执行资源是这些逻辑处理器共享的，因此微体系结构必须决定两个线程如何以及何时切换执行。当一个线程被挂起的时候，另一个线程就会继续执行。能够导致线程挂起的因素包括处理Cache失效以及分支预测失败。
在同时多线程技术之后就出现了多核处理器。多核处理器采用单芯片多处理器(CMP)的设计。随着生产工艺与制造技术的进步，处理器厂商在设计多核处理器时，不是重用单个处理器中的某些处理器资源，而是在单个处理器芯片内实现两个或者更多的“执行核”。这些执行核都是相互独立的处理器，只是位于同一块芯片上而已。这些执行和都具有自己的执行集合以及体系结构资源。

CPU状态	CPU状态		CPU状态	CPU状态
中断逻辑	中断逻辑		中断逻辑	中断逻辑
执行单元	Cache		执行单元	Cache

问题2：
本问题主要考查对实时操作系统中同步与互斥、通信以及负载均衡和可伸缩性的理解程度，也考核考生对实时操作系统的基础知识。
同步是对线程执行的顺序进行强行限制的一种机制，用来控制线程执行的相对顺序，可以有效解决任何线程间的冲突，而这些冲突有可能会导致线程的执行出现异常行为。简而言之，同步主要用于协调线程执行和管理共享数据。
多核平台为开发人员提供了一种优化应用程序的渠道，那就是通过仔细分配加载到各线程(或者各处理器核)上的工作负载（也就是实现各线程的负载均衡）就能够得到性能上的提升。并且，开发人员也可以对应用程序的代码加以优化，使其能够更加充分地使用多个处理器资源，进而达到提升应用程序性能的目的。

由于多线程机制的引入可以保证相对较快的操作(例如正文的显示)不显示等待较慢

(1)同步：是指两个或者多个线程协调其行为的过程。如一个线程停下来等待另一个线程完成某项任务。
(2)通信：是指与线程之间交换数据相关的带宽和时延问题。
(3)负载均衡：是指多个线程之间工作量分布的情况。负载均衡能够使各线程的工作量均衡分配。
(4)可伸缩性：是衡量在性能更加强劲的系统上运行软件时能否有效利用更多线程的指标。例如，如果一个应用程序是面向四核系统编写的，那么当程序在八核系统上运行时，其性能是否能够线性增长。

	模	式				分解方式
	任务级并行模式			(1)任务分解
	分治模式				(2)任务分解或数据分解
	几何分解模式			(3)数据分解
	流水线模式			(4)数据流分解
	波峰模式				(5)数据流分解

(1)任务级并行编程模式。在许多情况下，完成并行执行的最佳方法是直接关注任务本身。在这种情况下，任务级并行模式最合适。这种模式下，问题被分解成一组独立操作的任务。
通常移除任务间的依赖性或使用复制来分离依赖性是必要的。适合这种模式的问题包括线程间没有依赖性，或线程间的依赖性可从每一个线程中移除。
(2)分而治之模式。问题被分成许多并行的子问题。每个子问题被单独解决。当每个子问题被解决时，结果合计到最后的结果中。
(3)几何分解模式。几何分解模式基于正在解决问题的数据结构的并行化。在几何分解中，每个线程负责操作数据块。这种模式可能适用于热流和声波传播之类
(4)流水线模式。流水线模式的意思类似于一条工厂的产品装配线。这种寻找并发的方式使计算被分割成一系列阶段，每个线程在不同的阶段同时工作。
(5)波阵面模式。波阵面模式在处理二维网格中延对角线的数据元素时非常有用。


(1)嵌入式操作系统必须是强实时系统，实时性应达到毫秒级。
(2)操作系统应支持存储器保护能力，支持进程间的资源独立性（即时间、空间的隔离）
(3)操作系统内核应支持多核结构的处理器，并支持多个逻辑处理的方式。
(4)支持高速Cache的管理。

(1)因为嵌入式实时系统与实际应用要求结合性很高，为了满足系统总的要求，在嵌入式计算机体系结构设计时，针对宇航员系统配套生产高性能嵌入式计算机系统的任务，确定软件的技术需求和应用软件平台选择。
由于本题用户要求该系统要具有高速并发处理能力、低功耗、高可靠性，因此考查如何选择处理器的结构以及对处理机不同结构特性了解的程度。
(2)软件并发是一种能够有效解决资源同时共享问题的方法。软件并发具有非常重要的作用和意义，主要体现在：并发能够让系统资源得到最有效的利用。但是由于采用了多线程技术实现应用程序的并发操作，将存在同步、通信、负载均衡和可伸缩性方面的问题。本题要求考生了解并行程序设计的基础知识。
(3)本题给出为了防止系统故障的蔓延，在超线程技术的多核结构需要选择一种嵌入式操作系统作为本高性能嵌入式计算机系统的运行环境，才能满足用户对系统的要求，操作系统应该是实时性强、可靠性高、支持多核结构和高速缓存管理。只有这样才能增强系统的性能。


第二问：
(1)单核结构：计算机中仅有一个物理处理器，不支持应用软件的并行执行，因为在任何时间点上，CPU都只能执行一个指令流。
(2)多处理器结构：支持真正意义上的并行执行，因为多个线程或进程能够在多个处理器上同时执行。
(3)超线程结构（SMT):实际上计算机中只有一个实际的物理处理器，但从软件角度来看，存在多个逻辑处理器，支持操作系统和应用程序将多个线程调度到多个逻辑处理器上，就像多处理器系统一样。从微体系结构的角度看，逻辑处理器的指令是固定的并且在共享的执行资源上同时执行。
(4)多核结构：采用单芯片多处理器(CMP)的设计，此种结构不是重用单个处理器中某些处理器资源，而是在单个处理器芯片内实现两个或更多的“执行核”这些执行核都是相互独立的处理器，并具有自己的执行集合以及体系结构资源。
(5)共享Cache的多核结构：与多核结构工作方式相一致，主要差别在于设计时将这些执行核设计成可共享片上的Cache.
(6)采用超线程技术的多核结构：主要是将多核结构与超线程结构相结合，从而将逻辑处理器的数量增加到执行核的两倍。

1、物理备份
物理备份是在操作系统层面上对数据库的数据文件进行备份，可分为冷备份和热备份两种。冷备份是将数据库正常关闭，在停止状态下，将数据库的文件全部备份(复制)下来。当数据库发生故障时，将数据库文件复制回来进行恢复。冷备份是数据库备份中最快和最安全的方法；热备份也称为动态备份，是利用备份软件，在数据库正常运行的状态下，将数据库中的数据文件备份出来。

备份方式		优点						
冷备份		非常快速的备份方法，容易归档;（简单复制即可）容易恢复到某个时间点上（只需将文件再复制回去);能与归档方法相结合，做数据库“最佳状态”的恢复；低度维护，高度安全。
缺点：	单独使用时，只能提供到某一时间点上的恢复；在实施备份的全过程中，数据库必须要作备份而不能做其他工作；若磁盘空间有限，只能复制到磁带等其他外部存储设备上，速度会很慢，不能按表或按用户恢复。

热备份		可在表空间或数据库文件级备份，备份的时间短；备份时数据库仍可使用；可达到秒级恢复（恢复到某一时间点上）；可对几乎所有数据库实体做恢复；恢复是快速的。
不能出错，否则后果严重；若热备份不成功，所得结果不可用于时间点的恢复；因难于维护，所以要特别小心，不允许“以失败告终”


问题3答案：
(1)在实施备份的全过程中，数据库必须要作备份而不能做其他工作；
(2)与热备份相结合，实现实时、秒级恢复
(3)不能按表或按用户恢复;
(4)可在表空间或数据库文件级备份，备份的时间短
(5)不能出错，否则会引起数据库无法恢复；
(6)备份时数据库仍可使用；

为了提高物理备份的效率，通常将安全、增量和差异三种备份方式相组合。一般来说，一个备份周期通常由一个完全备份和多个增量、差异备份组成。


对数据库【内部故障】的考虑，包括事务故障、系统故障和介质故障。
对数据库【外部各种攻击】的考虑，包括计算机病毒、利用软件漏洞的黑客攻击SQL注入攻击等。

刘工的备份策略仅采用了数据导出的备份方式，其优点是简单易行，实现了数据的完全导出，甚至可以在运行期间做到按需备份。
其缺点是一旦发生故障，会丢失过多的数据，例如在星期三的中午，数据库出现故障，则只能恢复到星期二备份时的数据，星期二导出后到星期三中午的数据会全部丢失；如果数据量非常大，则数据导出所话费的时间和空间会很大。

本题考查数据库备份与恢复的基本知识。题目中刘工提供的备份策略完全是基于数据导出的备份策略。这种备份策略的优点是简单易行，而且在数据的选择上非常灵活，可以实现基于表、用户、数据库的不同级别的数据导出，设置上可以做到按需备份。但是其缺点也非常突出，【即无法在数据库系统出现故障时，恢复到故障之前的时间点上】。而这种要求，在OLTP系统中是一种基本的要求。在金融业务系统中，要求数据库提供365*24小时的不间断运行，一旦发生故障，要求数据库必须恢复到出现故障之前的时间点上，否则会造成业务数据的丢失。而且如果数据量比较大，则数据导出所话费的时间和空间会很大。

冷备份是在数据库关闭的情况下，对数据库中的关键文件（数据文件、日志文件等）进行复制。
热备份是在数据库运行的情况下，对数据库中的关键数据进行备份，要求数据库管理系统提供支持。

冷备份可以对数据库最近的数据提供一种完整的备份，而热备份可以在冷备份的基础上，将数据库中的数据恢复到故障之前的某个特定的时间点上。如果仅采用冷备份，则从上次冷备份到系统出现故障之间的数据会丢失。如果只采用热备份，则系统需要从数据库安装时一直恢复到出现故障时，此时需要保留所有产生的控制文件、日志等数据，而这往往不可能，也是不需要的。

银行系统如果需要支持数据库的实时恢复或秒级恢复，需要采用冷热备份相结合的方式。
周一：冷 周二-周日：热
冷备份与热备份的交替间隔时间可以根据自身特点来进行调整。当数据库出现故障，需要恢复时，基本的步骤是：
(1)恢复最近一次的冷备份数据；
(2)按照时间顺序，恢复热备份的数据和日志文件。直到找到机器上未损坏的最后一个日志文件，将数据库恢复到该日志文件对应的时间点，然后重新启动数据库。











